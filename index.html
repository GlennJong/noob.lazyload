<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>NOOB.lazyload</title>
	<script src="https://code.jquery.com/jquery-3.1.1.slim.min.js"></script>
	<link rel="stylesheet" href="stylesheets/style.css">
</head>
<body>
	<h1>Scroll Down</h1>
	<div class="wrapper">
		<div class="image-grid grid">
			<div class="grid-item lazywrapper"><img class="lazyload" data-lazy="images/01.jpg" alt=""><i></i></div>
			<div class="grid-item lazywrapper"><img class="lazyload" data-lazy="images/02.jpg" alt=""><i></i></div>
			<div class="grid-item lazywrapper"><img class="lazyload" data-lazy="images/03.jpg" alt=""><i></i></div>
			<div class="grid-item lazywrapper"><img class="lazyload" data-lazy="images/04.jpg" alt=""><i></i></div>
			<div class="grid-item lazywrapper"><img class="lazyload" data-lazy="images/05.jpg" alt=""><i></i></div>
			<div class="grid-item lazywrapper"><img class="lazyload" data-lazy="images/06.jpg" alt=""><i></i></div>
			<div class="grid-item lazywrapper"><img class="lazyload" data-lazy="images/07.jpg" alt=""><i></i></div>
			<div class="grid-item lazywrapper"><img class="lazyload" data-lazy="images/08.jpg" alt=""><i></i></div>
			<div class="grid-item lazywrapper"><img class="lazyload" data-lazy="images/09.jpg" alt=""><i></i></div>
			<div class="grid-item lazywrapper"><img class="lazyload" data-lazy="images/10.jpg" alt=""><i></i></div>
			<div class="grid-item lazywrapper"><img class="lazyload" data-lazy="images/11.jpg" alt=""><i></i></div>
			<div class="grid-item lazywrapper"><img class="lazyload" data-lazy="images/12.jpg" alt=""><i></i></div>
		</div>
	</div>
	<script>
		// Lazyload
		function lazyLoad() {

    	var $lazyItem = $('img.lazyload')

	    // Check lazyloaded
	    function loadCheck() {
        if(this.complete) {
          this.setAttribute('class', 'lazyloaded')
          this.removeAttribute('data-lazy')
        }
	    }


	    // lazyLoad at window scroll
	    var windowHeight = $(window).height()
	    
	    $(window).scroll(function() {
				var scrollNow = $(window).scrollTop();

				// lazyload Images
				$lazyItem.each(function() {
	    		var lazyOffset = $(this).offset().top

          if (lazyOffset <= scrollNow + windowHeight) {
          	var lazySrc = $(this).data('lazy')
	        	this.setAttribute('src', lazySrc)
          }

				}).on('load', loadCheck)

	    })
		}

		lazyLoad()
	</script>	
</body>
</html>